# Arkanoid

## Описание проекта

**Arkanoid** — это классическая аркадная игра, в которой игрок управляет платформой, отбивающей шар, чтобы разрушить все кирпичи на игровом поле. В проекте реализованы различные типы кирпичей, бонусы, ракеты, щит платформы и другие игровые механики, делающие игру интересной и разнообразной.

## Архитектура и основные компоненты

Проект построен на объектно-ориентированной архитектуре с использованием C++ и OpenGL (FreeGLUT) для графики.  
Вся логика разделена на отдельные классы, каждый из которых отвечает за свою часть игрового процесса.

### 1. Entity  
Базовый абстрактный класс для всех игровых объектов (мяч, кирпич, платформа, бонус, ракета, щит).  
Содержит общие свойства: позиция, скорость, размеры, методы для перемещения, проверки столкновений и отрисовки.

### 2. Ball  
Класс мяча.  
- Движется по полю, отскакивает от платформы, стен и кирпичей.
- Может "прилипать" к платформе при активации соответствующего бонуса.
- Реализует физику отскока и взаимодействие с другими объектами.

### 3. Platform
Класс платформы, которой управляет игрок.  
- Может менять размер и скорость (под действием бонусов).
- Имеет здоровье (HP).
- Может быть защищена щитом (Shield).
- Реализует методы для движения, получения урона, активации/деактивации щита.

### 4. Shield  
Класс щита платформы.  
- Активируется бонусом или по событию.
- Защищает платформу от ракет и шаров.
- Может быть сломан и деактивирован.

### 5. Brick  
Базовый класс для всех видов кирпичей.  
- Содержит здоровье, параметры движения (для движущихся кирпичей), методы для получения урона, разрушения, отрисовки.
- Поддерживает паттерны движения (кирпичи могут двигаться по полю).

**Наследники Brick:**
- **SimpleBrick** — обычный кирпич, разрушается за 1 удар.
- **SeriousBrick** — прочный кирпич, требует 2 удара, меняет внешний вид при повреждении.
- **PowerfulBrick** — очень прочный кирпич, требует 3 удара, меняет внешний вид.
- **CombatBrick** — боевой кирпич, при разрушении запускает ракету в платформу, может двигаться.
- **MagicBrick** — магический кирпич, при разрушении создает бонус, может иметь разное здоровье.

### 6. Bonus 
Класс бонуса.  
- Падает вниз после разрушения некоторых кирпичей.
- При сборе платформой активирует различные эффекты: увеличение/уменьшение платформы, ускорение мяча, "липкий" мяч, дополнительный шар, инверсия управления, активация щита и др.

### 7. Rocket  
Класс ракеты, запускаемой боевыми кирпичами.  
- Двигается к платформе, может быть отражена щитом.
- При попадании наносит урон платформе.

### 8. Map  
Класс игрового поля.  
- Хранит все объекты: платформу, мячи, кирпичи, бонусы, ракеты.
- Отвечает за генерацию уровня (создание кирпичей), обработку столкновений, обновление состояния всех объектов, запуск мяча, обработку бонусов и ракет.
- Управляет состоянием игры (game over, рестарт и др.).

### 9. Game  
Главный управляющий модуль.  
- Инициализирует окно, запускает игровой цикл, обрабатывает ввод с клавиатуры, таймеры, отрисовку сцены.
- Связывает все компоненты вместе.

### 10. utils.hpp / utils.cpp  
Вспомогательные типы, константы, функции для работы с векторами, текстурами, расчетами углов, загрузкой ресурсов и т.д.

## Основные функции и механики
**!!!ДЛЯ КОМФОРТНОЙ ИГРЫ НЕОБХОДИМ ПЕРЕКЛЮЧИТЬСЯ НА АНГЛИЙСКУЮ РАСКЛАДКУ!!!**
- **Управление платформой** — помощью клавиш `A/D` (или стрелок) игрок двигает платформу влево/вправо.
- **Запуск мяча** — мяч стартует с платформы c помощью клавиши `Space`, направление можно регулировать клавишами `Q` и `E`.
- **Разрушение кирпичей** — мяч разрушает кирпичи, некоторые из них требуют несколько ударов.
- **Движущиеся кирпичи** — некоторые кирпичи могут двигаться по полю, меняя направление при столкновениях.
- **Бонусы** — при разрушении определённых кирпичей выпадают бонусы, которые дают эффекты.
- **Ракеты** — боевые кирпичи запускают ракеты, которые летят к платформе и могут быть отражены щитом.
- **Щит платформы** — активируется бонусом, защищает платформу от ракет.
- **Game Over** — игра заканчивается, если у платформы закончилось здоровье или все кирпичи разрушены. Игру можно перезапустить клавишей `R`.
- **Графика** — используется OpenGL/FreeGLUT, все объекты имеют текстуры, реализована простая анимация.

## Структура проекта

src/  Исходные файлы классов (реализация)

include/  Заголовочные файлы классов

assets/textures/  Текстуры для всех игровых объектов

CMakeLists.txt  Сборка проекта через CMake


## Как работает игровой цикл

1. **Инициализация**: создается окно, загружаются текстуры, генерируется уровень.
2. **Игровой цикл**:  
   - Обработка ввода (движение платформы, запуск мяча, активация бонусов).
   - Обновление состояния всех объектов (мяч, платформа, кирпичи, бонусы, ракеты).
   - Проверка столкновений и обработка последствий (разрушение, генерация бонусов, запуск ракет).
   - Отрисовка всех объектов на экране.
3. **Завершение**: при проигрыше или победе — выводится соответствующее сообщение, можно перезапустить игру.

## Для чего нужен каждый файл

| Файл               | Описание                                                                 |
|--------------------|--------------------------------------------------------------------------|
| `main.cpp`         | Точка входа, инициализация GLUT и запуск игрового цикла.                |
| `Game.cpp/hpp`     | Обработка событий, отрисовка, таймеры, управление сценой.              |
| `Map.cpp/hpp`      | Логика игрового поля, генерация и обновление всех объектов.            |
| `Entity.cpp/hpp`   | Базовый класс для всех объектов.                                        |
| `Ball.cpp/hpp`     | Логика мяча.                                                           |
| `Platform.cpp/hpp` | Логика платформы и её щита.                                            |
| `Brick.cpp/hpp`    | Логика кирпичей и их наследников.                                      |
| `Bonus.cpp/hpp`    | Логика бонусов.                                                        |
| `Rocket.cpp/hpp`   | Логика ракет.                                                          |
| `utils.cpp/hpp`    | Вспомогательные функции, константы, загрузка текстур.                  |
| `assets/textures/` | Все изображения для объектов.                                          |
